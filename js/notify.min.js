"use strict";class Notify{constructor(){this.title="",this.message="",this.options={closeButton:!0,progressBar:!1,positionClass:"top-right",preventDuplicates:!1,escapeHtml:!1,activeCustomIcon:!0,customIcon:null,fontSizeIcon:28,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000"}}infor(t="No hay mensaje",e="",o=null){const n=getContainerAlert();this.applyConfiguration(o,n);const s=crearAlerta(t,e,"infor",this.options);addBottonClose(s,this.options),addProgressBar(s,this.options),insertAlertContainer(n,s,this.options),showAndHideAlert(s,this.options)}warning(t="No hay mensaje",e="",o=null){const n=getContainerAlert();this.applyConfiguration(o,n);const s=crearAlerta(t,e,"warning",this.options);addBottonClose(s,this.options),addProgressBar(s,this.options),insertAlertContainer(n,s,this.options),showAndHideAlert(s,this.options)}success(t="No hay mensaje",e="",o=null){const n=getContainerAlert();this.applyConfiguration(o,n);const s=crearAlerta(t,e,"success",this.options);addBottonClose(s,this.options),addProgressBar(s,this.options),insertAlertContainer(n,s,this.options),showAndHideAlert(s,this.options)}error(t="No hay mensaje",e="",o=null){const n=getContainerAlert();this.applyConfiguration(o,n);const s=crearAlerta(t,e,"error",this.options);addBottonClose(s,this.options),addProgressBar(s,this.options),insertAlertContainer(n,s,this.options),showAndHideAlert(s,this.options)}clear(){if(document.getElementById("contenedor-notify")){const t=document.getElementById("contenedor-notify");if(t.hasChildNodes()){document.querySelectorAll(".notify").forEach((t=>{t.classList.remove("show")})),setTimeout((()=>{for(;t.firstElementChild;)t.removeChild(t.firstElementChild);t.remove()}),500)}}}applyConfiguration(t,e){if(null!=t)for(const e in t)this.options.hasOwnProperty(e)&&(this.options[e]=t[e]);e.classList.add(this.options.positionClass)}}function getContainerAlert(){if(document.getElementById("contenedor-notify"))return document.getElementById("contenedor-notify");{const t=document.createElement("DIV");return t.classList.add("contenedor-notify"),t.id="contenedor-notify",document.querySelector("body").insertAdjacentElement("afterbegin",t),t}}function crearAlerta(t,e,o,n){const s=document.createElement("DIV");s.classList.add("notify","notify-"+o),s.innerHTML='<div class="notify_logo"></div><div class="notify_content"><div class="notify_content_title"></div><div class="notify_content_message"></div></div>';const i=s.querySelector(".notify_logo"),r=s.querySelector(".notify_content_title"),a=s.querySelector(".notify_content_message");return n.activeCustomIcon&&null!=n.customIcon?(i.style.fontSize=`${n.fontSizeIcon}px`,i.innerHTML=n.customIcon):i.classList.add(o),n.escapeHtml?(r.textContent=e,a.textContent=t):(r.innerHTML=e,a.innerHTML=t),s}function addProgressBar(t,e){if(e.progressBar){const e=document.createElement("SPAN");e.classList.add("notify_progress-bar"),t.appendChild(e)}}function progressBar(t,e,o){if(o.progressBar){t.style.display="block",t.style.width="100%";let o=100,n=e;const s=setInterval((()=>{n-=o;let i=n*o/e;i<=0?(t.style.width="0",clearInterval(s)):t.style.width=`${i}%`}),o);return s}}function addBottonClose(t,e){if(e.closeButton){const o=document.createElement("BUTTON");o.classList.add("notify_btn-close"),o.textContent="x",o.addEventListener("click",(o=>{t.classList.remove("show"),e.progressBar&&(t.querySelector(".notify_progress-bar").style.display="none"),clearTimeout(),setTimeout((()=>{o.target.parentElement.remove()}),400)})),t.appendChild(o)}}function showAndHideAlert(t,e){let o;const n=t.querySelector(".notify_progress-bar");let s=progressBar(n,e.timeOut,e);setTimeout((()=>{t.classList.add("show")}),e.showDuration),o=setTimeout((()=>{t.classList.remove("show"),setTimeout((()=>{t.remove()}),e.hideDuration)}),e.timeOut),t.addEventListener("mouseenter",(t=>{clearTimeout(o),e.progressBar&&(clearInterval(s),n.style.display="none")})),t.addEventListener("mouseleave",(i=>{s=progressBar(n,e.extendedTimeOut,e),o=setTimeout((()=>{t.classList.remove("show"),setTimeout((()=>{t.remove()}),e.extendedTimeOut/2)}),e.extendedTimeOut)}))}function insertAlertContainer(t,e,o){o.preventDuplicates&&t.hasChildNodes()?($smsFirt=t.lastElementChild.querySelector(".notify_content_message"),$newNode=e.querySelector(".notify_content_message"),$smsFirt.innerHTML!=$newNode.innerHTML&&t.appendChild(e)):t.appendChild(e)}